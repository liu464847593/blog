## shell是什么？
`shell`是一个接收由键盘输入的命令，并将其传递给操作系统来执行的程序  
当使用图形用户界面时，需要另一种叫`终端仿真器`的程序与shell进行交互  
当一个内核对象被创建的时候，对应的文件和目录也在内核对象子系统中被创建。
第一次登录系统时，当前工作目录被设置成主目录



```shell
[me@linuxbox ～]$
[me@linuxbox ～]# //享有超级用户特权,我们是以根用户身份登录
```

## 常用命令
- `date`：显示当前系统的时间和日期
- `cal`：当月日历
- `df`：磁盘驱动器当前可用空间
- `free`：可用内存
- `exit`：退出
- `pwd`：查看当前目录
- `cd`：改变目录
- `ls`：列出目录内容
  - `-a` 显示隐藏文件
- `file`：确定文件内容
- `less`：查看文件内容 `Q`可以退出程序
- `cp`：复制文件和目录
```shell
// 将单个文件或目录item1复制到文件或目录item2中
cp item1 item2
```
- `mv`：移动或重命名文件和目录
```shell
// 将文件或目录item1移动或者重命名item2
mv item1 item2
```
- `mkdir`：创建目录
```shell
// 创建3个目录
makdir dir1 dir2 dir3
```
- `rm`：移除文件和目录
```shell
rem item...
```
- `ln`：创建硬连接和符号链接
```shell
// 创建硬链接
ln file link
//创建符号链接
ln -s item link 
```
- `type`：说明如何结束命令名
- `which`：显示会执行哪些可执行程序的位置
- `man`：显示命令的手册页
- `apropos`：显示一系列合适的命令
- `info`：显示命令的info条目
- `whatis`：显示一条命令的简述
- `alias`：创建一条命令的别名
```shell
// 先检测foo有没有被使用
type foo 
alias foo='cd /usr;ls;cd ~'
// 删除别名
unalias foo 
```
- `help`：获得shell内置命令的帮助文档
- `man`：显示程序的手册页面
- `cat`：合并文件
- `sort`：对文本行排序
- `uniq`：报告或删除文件中重复的行
- `wc`：打印文件中的换行符，字和字节的个数
- `grep`：打印匹配行
- `head`：输出文件第一部分内容
- `tail`：输出文件的最后一部分内容
- `tee`：读取标准输入的数据，并将其内容输出到标准输出和文件中
- `echo`：显示一行文本
```shell
// 快速执行第88行的内容
!88 

// cltr + r 逆向搜索, cltr + j 把内容复制到当前命令行
```
```shell
// 用户的主目录名
echo ~ 
```
```shell
// 标准输出重定向到另一个文件
ls -l /usr/bin > ls-output.txt
```
- `clear`：清屏
- `history`：显示历史列表的记录
- `id`：获取用户身份标识的相关信息
- `chmod`：更改文件模式
- `umask`：设置默认权限
- `su`：以其它用户和组id身份来运行shell
```shell
su [ - [l] ] [ user ]
// 以超级用户的身份启动root
su - 
```
- `sudo`：以另一个用户(超级用户)的身份执行命令 `sudo -l` 查看可以授权哪些权限
- `chown`：更改文件所有者和所属群组
- `chgrp`：更改文件所属群组
- `passwd`：更改用户密码
- `ps`：显示当前所有进程的运行情况
- `top`：实时显示所有任务的资源占用情况
- `jobs`：列出所有活动作业的状态信息
- `bg`：设置在后台中运行作业
- `fg`：设置在前台中运行作业
- `kill`：发送信号给某个进程
- `killall`：杀死指定名字的进程
- `shutdown`：关机或者重启系统
- `zip`：打包压缩文件
```shell
zip options zipfile file ...
```








## linux目录
- `/`  根目录，一切从这里开始
- `/bin`    bin是Binary的缩写, 这个目录存放着最经常使用的命令。
- `/boot` 这里存放的是启动Linux时使用的一些核心文件，包括一些连接文件以及镜像文件。
-`/dev ` dev是Device(设备)的缩写, 该目录下存放的是Linux的外部设备，在Linux中访问设备的方式和访问文件的方式是相同的。
- `/etc` 这个目录用来存放所有的系统管理所需要的配置文件和子目录。
- `/home` 用户的主目录，在Linux中，每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的。
- `/lib` 这个目录里存放着系统最基本的动态连接共享库，其作用类似于Windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库。
- `/lost+found` 这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。
- `/media` linux系统会自动识别一些设备，例如U盘、光驱等等，当识别后，linux会把识别的设备挂载到这个目录下。
- `/mnt` 系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将光驱挂载在/mnt/上，然后进入该目录就可以查看光驱里的内容了。
- `/opt` 这是给主机额外安装软件所摆放的目录。比如你安装一个ORACLE数据库则就可以放到这个目录下。默认是空的。
- `/proc` 这个目录是一个虚拟的目录，它是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息。这个目录的内容不在硬盘上而是在内存里
- `/root` 该目录为系统管理员，也称作超级权限者的用户主目录。
- `/sbin` s就是Super User的意思，这里存放的是系统管理员使用的系统管理程序。
- `/selinux` 这个目录是Redhat/CentOS所特有的目录，Selinux是一个安全机制，类似于windows的防火墙，但是这套机制比较复杂，这个目录就是存放selinux相关的文件的。
- `/srv` 该目录存放一些服务启动之后需要提取的数据。
-`/sys` 这是linux2.6内核的一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统 sysfs 。
sysfs文件系统集成了下面3种文件系统的信息：针对进程信息的proc文件系统、针对设备的devfs文件系统以及针对伪终端的devpts文件系统。
该文件系统是内核设备树的一个直观反映。
- `/tmp` 这个目录是用来存放一些临时文件的。
- `/usr` 这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似与windows下的program files目录。
- `/usr/bin` 系统用户使用的应用程序。
- `/usr/lib` 目录中的程序使用的共享库
- `/usr/sbin` 超级用户使用的比较高级的管理程序和系统守护程序。
- `/usr/src` 内核源代码默认的放置目录。
- `/var` 这个目录中存放着在不断扩充着的东西，我们习惯将那些经常被修改的目录放在这个目录下。包括各种日志文件。


## 文件基本属性
```shell
[root@www /]# ls -l
total 64
dr-xr-xr-x   2 root root 4096 Dec 14  2012 bin
dr-xr-xr-x   4 root root 4096 Apr 19  2012 boot
……
```
- 当为[ d ]则是目录
- 当为[ - ]则是文件；
- 若是[ l ]则表示为链接文档(link file)；
- 若是[ b ]则表示为装置文件里面的可供储存的接口设备(可随机存取装置)；
- 若是[ c ]则表示为装置文件里面的串行端口设备，例如键盘、鼠标(一次性读取装置)。
接下来的字符中，以三个为一组，且均为『rwx』 的三个参数的组合。其中，[ r ]代表可读(read)、[ w ]代表可写(write)、[ x ]代表可执行(execute)。 要注意的是，这三个权限的位置不会改变，如果没有权限，就会出现减号[ - ]而已。

每个文件的属性由左边第一部分的10个字符来确定。

| 文件类型 | 所有者权限 | 组权限 | 其他用户权限 |
| :-----: | :-----: | :-----: | :-----: | 
| d       | rwx       |  r-x     |  r-x    |


从左至右用0-9这些数字来表示。

第0位确定文件类型，第1-3位确定属主（该文件的所有者）拥有该文件的权限。

第4-6位确定属组（所有者的同组用户）拥有该文件的权限，第7-9位确定其他用户拥有该文件的权限。
其中，第1、4、7位表示读权限，如果用"r"字符表示，则有读权限，如果用"-"字符表示，则没有读权限；

第2、5、8位表示写权限，如果用"w"字符表示，则有写权限，如果用"-"字符表示没有写权限；第3、6、9位表示可执行权限，如果用"x"字符表示，则有执行权限，如果用"-"字符表示，则没有执行权限。

## 更改文件模式
- 八进制数字表示法

| 八进制 | 二进制 | 文件模式 |
| :-----: | :-----: | :-----: |
| 0       | 000       |  ---  |
| 1       | 001       |  --x  |
| 2       | 010       |  -w-  |
| 3       | 011       |  -wx  |
| 4       | 100       |  r--  |
| 5       | 101       |  r-x  |
| 6       | 110       |  rw-  |
| 7       | 111       |  rwx  |

```shell
// 设置所有者读写权限
chmod 600 foo.txt
```
常用的是 7（rwx）,6(rw-),5(r-x),4(r--),0(---)

- 符号表示法  
[u] users  
[g] 文件所属群组  
[o] others  
[a] all 






